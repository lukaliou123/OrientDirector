# 🏙️ Google Street View 使用指南

## 🚀 快速开始

### 1. 配置API密钥
在 `index.html` 中替换占位符：
```html
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=YOUR_ACTUAL_API_KEY&callback=initGoogleMaps&v=weekly&libraries=geometry">
</script>
```

### 2. 启动应用
```bash
python start_app.py
```

### 3. 体验街景功能
1. 在应用中探索并选择一个地点
2. 点击"我已到达"
3. 自动弹出街景模态框
4. 享受360°沉浸式体验！

## 🎮 交互操作

### 鼠标操作
- **拖拽旋转**: 360°自由查看
- **滚轮缩放**: 放大缩小细节
- **双击移动**: 快速切换视角

### 控制按钮
- **🧭 重置视角**: 回到初始朝向
- **🔍 全屏**: 最大化体验
- **📤 分享**: 分享位置链接
- **✕ 关闭**: 关闭街景

### 键盘快捷键
- **ESC**: 关闭街景模态框
- **F**: 切换全屏模式
- **R**: 重置街景视角

## 🔧 故障排除

### 常见问题

#### 1. 街景不显示
**原因**: API密钥未配置或无效
**解决**:
```bash
# 检查API密钥是否正确配置
grep "YOUR_GOOGLE_MAPS_API_KEY" index.html
```

#### 2. 加载缓慢
**原因**: 网络连接问题
**解决**:
- 检查网络连接
- 等待Google服务响应
- 尝试刷新页面

#### 3. 显示"街景不可用"
**原因**: 该位置没有街景数据
**解决**:
- 移动到附近的热门地点
- 尝试其他城市中心区域
- 这是正常现象，不是错误

### 调试工具
```javascript
// 在浏览器控制台运行
runStreetViewTests();  // 运行完整测试套件
```

## 📊 技术规格

### 支持的浏览器
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

### API要求
- Google Maps JavaScript API
- HTTPS协议（生产环境）
- 有效的API密钥

### 性能特点
- 懒加载：仅在需要时加载
- 智能缓存：浏览器自动缓存瓦片
- 错误恢复：网络异常自动重试

## 🎨 定制选项

### 修改样式
编辑 `styles.css` 中的 `.streetview-modal` 相关样式：
```css
.streetview-modal {
    /* 自定义尺寸、颜色、动画等 */
    max-width: 95vw;  /* 修改最大宽度 */
    background: linear-gradient(135deg, #your-color);  /* 自定义背景 */
}
```

### 调整功能
在 `app.js` 中修改街景参数：
```javascript
// 修改搜索半径（默认1公里）
streetViewService.getPanorama({
    location: location,
    radius: 2000,  // 改为2公里
    // ... 其他参数
});
```

## 🌟 最佳实践

### 用户体验
1. **引导说明**: 首次使用时可添加操作提示
2. **加载提示**: 显示友好的加载状态
3. **错误处理**: 优雅处理各种异常情况

### 性能优化
1. **按需加载**: 只在用户到达时加载
2. **资源清理**: 关闭时释放内存
3. **缓存利用**: 利用浏览器缓存机制

### 内容策略
1. **位置选择**: 优先选择热门旅游景点
2. **备用方案**: 无街景时提供地图替代
3. **用户引导**: 鼓励探索有街景的区域

## 🔄 未来扩展

### 可能的新功能
- **街景导航**: 在同一旅程中连续浏览
- **街景书签**: 保存喜欢的街景位置
- **时间旅行**: 查看历史街景（如果可用）
- **街景分享**: 生成街景截图分享

### 技术增强
- **离线缓存**: 缓存已访问的街景
- **VR支持**: 结合WebXR技术
- **多平台**: 支持移动端优化

## 📞 获取帮助

### 常见问题解答
**Q: 为什么有些地方没有街景？**
A: Google街景覆盖范围有限，主要在城市道路和热门景点。

**Q: 如何提高街景加载速度？**
A: 确保网络连接稳定，使用最新版本的浏览器。

**Q: 可以自定义街景的外观吗？**
A: 是的，可以通过CSS自定义模态框样式和控制按钮。

### 技术支持
- 查看浏览器控制台错误信息
- 运行测试脚本诊断问题
- 参考Google Maps官方文档

---

*最后更新: 2024年12月*  
*版本: 1.0.0*  
*兼容性: Google Maps JavaScript API v3.57*
